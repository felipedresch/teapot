@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/* ═══════════════════════════════════════════════════════
   RESET
   ═══════════════════════════════════════════════════════ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-family: 'DM Sans', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
}

code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
}

/* ═══════════════════════════════════════════════════════
   DESIGN TOKENS
   ═══════════════════════════════════════════════════════ */

:root {
  /* ── Raw Palette ── */
  --cream: #fdf8f3;
  --blush: #e8d5d0;
  --sage: #c5d1c8;
  --warm-white: #fffefb;
  --soft-terracotta: #d4a89a;
  --muted-rose: #c9a9a6;
  --stone: #8b8178;
  --espresso: #3d3530;
  --warm-gray: #6b635b;

  /* ── Gift Status ── */
  --gift-available: #a8c5a8;
  --gift-reserved: #d4b5b0;
  --gift-received: #d4c4a8;

  /* ── Semantic Tokens (shadcn compat) ── */
  --background: var(--cream);
  --foreground: var(--espresso);
  --card: var(--warm-white);
  --card-foreground: var(--espresso);
  --popover: var(--warm-white);
  --popover-foreground: var(--espresso);
  --primary: var(--soft-terracotta);
  --primary-foreground: #fffefb;
  --secondary: var(--blush);
  --secondary-foreground: var(--espresso);
  --muted: var(--blush);
  --muted-foreground: var(--warm-gray);
  --accent: var(--sage);
  --accent-foreground: var(--espresso);
  --destructive: #b85c5c;
  --destructive-foreground: #fff8f6;
  --border: rgba(139, 129, 120, 0.12);
  --input: rgba(139, 129, 120, 0.15);
  --ring: rgba(212, 168, 154, 0.5);

  /* ── Radii ── */
  --radius: 1.25rem;

  /* ── Sidebar (framework compat) ── */
  --sidebar: var(--warm-white);
  --sidebar-foreground: var(--espresso);
  --sidebar-primary: var(--soft-terracotta);
  --sidebar-primary-foreground: #fffefb;
  --sidebar-accent: var(--blush);
  --sidebar-accent-foreground: var(--espresso);
  --sidebar-border: rgba(139, 129, 120, 0.2);
  --sidebar-ring: rgba(212, 168, 154, 0.7);
}

.dark {
  --background: #201b18;
  --foreground: #fdf8f3;
  --card: #2a2521;
  --card-foreground: #fdf8f3;
  --popover: #2a2521;
  --popover-foreground: #fdf8f3;
  --primary: #d4a89a;
  --primary-foreground: #201b18;
  --secondary: #3f3732;
  --secondary-foreground: #fdf8f3;
  --muted: #3f3732;
  --muted-foreground: #d2c5ba;
  --accent: #4a5a4f;
  --accent-foreground: #fdf8f3;
  --destructive: #c76b6b;
  --destructive-foreground: #fdf8f3;
  --border: rgba(244, 236, 228, 0.14);
  --input: rgba(244, 236, 228, 0.18);
  --ring: rgba(244, 236, 228, 0.45);
  --sidebar: #241f1b;
  --sidebar-foreground: #fdf8f3;
  --sidebar-primary: #d4a89a;
  --sidebar-primary-foreground: #241f1b;
  --sidebar-accent: #3f3732;
  --sidebar-accent-foreground: #fdf8f3;
  --sidebar-border: rgba(244, 236, 228, 0.3);
  --sidebar-ring: rgba(244, 236, 228, 0.6);
}

/* ═══════════════════════════════════════════════════════
   TAILWIND THEME — Static tokens (compiled at build time)
   ═══════════════════════════════════════════════════════ */

@theme {
  /* Font families */
  --font-display: 'Fraunces', Georgia, 'Times New Roman', serif;
  --font-body: 'DM Sans', system-ui, -apple-system, sans-serif;
  --font-accent: 'Caveat', cursive;

  /* Shadows — dreamy, diffuse, warm */
  --shadow-dreamy: 0 4px 20px rgba(61, 53, 48, 0.08),
    0 1px 3px rgba(61, 53, 48, 0.04);
  --shadow-dreamy-md: 0 12px 40px rgba(61, 53, 48, 0.1),
    0 2px 12px rgba(61, 53, 48, 0.06);
  --shadow-dreamy-lg: 0 18px 60px rgba(61, 53, 48, 0.12),
    0 4px 18px rgba(61, 53, 48, 0.06);
}

/* ═══════════════════════════════════════════════════════
   TAILWIND THEME — Dynamic tokens (runtime CSS variables)
   ═══════════════════════════════════════════════════════ */

@theme inline {
  /* ── Palette Colors ── */
  --color-cream: var(--cream);
  --color-blush: var(--blush);
  --color-sage: var(--sage);
  --color-warm-white: var(--warm-white);
  --color-soft-terracotta: var(--soft-terracotta);
  --color-muted-rose: var(--muted-rose);
  --color-espresso: var(--espresso);
  --color-warm-gray: var(--warm-gray);

  /* ── Gift Status ── */
  --color-gift-available: var(--gift-available);
  --color-gift-reserved: var(--gift-reserved);
  --color-gift-received: var(--gift-received);

  /* ── Semantic Tokens ── */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* ── Radii ── */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* ── Sidebar ── */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* ═══════════════════════════════════════════════════════
   KEYFRAME ANIMATIONS
   ═══════════════════════════════════════════════════════ */

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes soft-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes marquee-x {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

/* ═══════════════════════════════════════════════════════
   BASE LAYER
   ═══════════════════════════════════════════════════════ */

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
  h1,
  h2,
  h3,
  h4 {
    font-family: 'Fraunces', Georgia, 'Times New Roman', serif;
    letter-spacing: -0.02em;
    color: var(--espresso);
    font-weight: 400;
  }
  h1 {
    font-size: 2.5rem;
    line-height: 1.15;
  }
  h2 {
    font-size: 2rem;
    line-height: 1.2;
  }
  h3 {
    font-size: 1.5rem;
    line-height: 1.3;
  }
  h4 {
    font-size: 1.25rem;
    line-height: 1.35;
  }
  @media (min-width: 768px) {
    h1 {
      font-size: 3rem;
    }
    h2 {
      font-size: 2.25rem;
    }
  }
}

/* ═══════════════════════════════════════════════════════
   PAPER TEXTURE — Subtle noise overlay for that
   artisanal, hand-touched feeling
   ═══════════════════════════════════════════════════════ */

body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  opacity: 0.1;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  mix-blend-mode: multiply;
}

/* ═══════════════════════════════════════════════════════
   CUSTOM ANIMATION CLASSES
   ═══════════════════════════════════════════════════════ */

.animate-shimmer {
  background: linear-gradient(
    90deg,
    var(--blush) 0%,
    var(--cream) 40%,
    var(--blush) 80%
  );
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
}

.animate-fade-up {
  animation: fade-up 0.5s ease-out both;
}

.marquee-fade {
  -webkit-mask-image: linear-gradient(
    to right,
    transparent 0%,
    black 6%,
    black 94%,
    transparent 100%
  );
  mask-image: linear-gradient(
    to right,
    transparent 0%,
    black 6%,
    black 94%,
    transparent 100%
  );
  mask-size: 100% 100%;
  mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
}

.marquee-track {
  display: inline-flex;
  min-width: max-content;
  animation: marquee-x 28s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  .marquee-track {
    animation: none;
  }
}

/* ═══════════════════════════════════════════════════════
   POLAROID / PRINTED PHOTOGRAPH
   Real film-print feel: grain overlay, warm tone shift,
   vignette, slightly yellowed matte border.
   ═══════════════════════════════════════════════════════ */

.photo-print {
  /* Slightly yellowed / aged white for the matte */
  background: linear-gradient(
    175deg,
    #fefcf8 0%,
    #f9f3eb 40%,
    #f5ede3 100%
  );
}

/* Film grain over the image */
.photo-print-grain::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.12;
  mix-blend-mode: multiply;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.1' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E");
  border-radius: inherit;
}

/* Vignette around the photo image */
.photo-vignette::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  box-shadow:
    inset 0 0 60px rgba(61, 53, 48, 0.18),
    inset 0 0 120px rgba(61, 53, 48, 0.06);
  z-index: 1;
}

/* ═══════════════════════════════════════════════════════
   HANDMADE PAPER / INVITATION CARD
   Fiber texture, rough edges, organic feel.
   ═══════════════════════════════════════════════════════ */

.paper-card {
  /* Fresh natural paper — warm linen tone, clean but clearly not the page
     background. Reads as real paper without looking aged or yellowed. */
  background: linear-gradient(
    168deg,
    #f5f1e9 0%,
    #ede8dc 45%,
    #e4dccc 100%
  );
  position: relative;
}

/* Paper fiber texture — fine grain visible on the surface */
.paper-card::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  /* Layer 1: fine paper fibers (high freq, subtle) */
  /* Layer 2: coarser cotton texture (low freq, more visible) */
  /* Combined via two SVG noise filters at different scales */
  background-image:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='f1'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23f1)' opacity='0.42'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 600 600' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='f2'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.35' numOctaves='5' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23f2)' opacity='0.18'/%3E%3C/svg%3E");
  background-size: 512px 512px, 600px 600px;
  mix-blend-mode: multiply;
  opacity: 1;
}

/* Uneven paper surface — soft watercolor-like stains / tonal variation */
.paper-card::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    radial-gradient(ellipse 45% 40% at 25% 20%, rgba(212,168,154,0.10) 0%, transparent 70%),
    radial-gradient(ellipse 35% 50% at 75% 75%, rgba(197,209,200,0.08) 0%, transparent 70%),
    radial-gradient(ellipse 50% 35% at 60% 30%, rgba(232,213,208,0.07) 0%, transparent 60%),
    radial-gradient(ellipse 30% 30% at 10% 80%, rgba(200,185,155,0.06) 0%, transparent 65%);
}

/* Deckled (rough) edges — using jagged clip-path on a wrapper */
.deckled-edge {
  clip-path: polygon(
    /* top edge — slightly wavy */
    0% 0.6%,
    3% 0%,
    7% 0.5%,
    11% 0.1%,
    16% 0.7%,
    20% 0.2%,
    25% 0.8%,
    30% 0%,
    35% 0.6%,
    40% 0.1%,
    45% 0.5%,
    50% 0%,
    55% 0.4%,
    60% 0.1%,
    65% 0.7%,
    70% 0.2%,
    75% 0.5%,
    80% 0%,
    85% 0.6%,
    90% 0.2%,
    94% 0.5%,
    97% 0.1%,
    100% 0.4%,
    /* right edge */
    99.5% 4%,
    100% 9%,
    99.6% 14%,
    100% 20%,
    99.4% 26%,
    100% 32%,
    99.7% 38%,
    100% 44%,
    99.5% 50%,
    100% 56%,
    99.4% 62%,
    100% 68%,
    99.6% 74%,
    100% 80%,
    99.5% 86%,
    100% 92%,
    99.7% 97%,
    100% 100%,
    /* bottom edge — slightly wavy */
    97% 99.5%,
    93% 100%,
    88% 99.4%,
    83% 100%,
    78% 99.6%,
    73% 100%,
    68% 99.3%,
    63% 100%,
    58% 99.5%,
    53% 100%,
    48% 99.4%,
    43% 99.8%,
    38% 100%,
    33% 99.5%,
    28% 100%,
    23% 99.6%,
    18% 100%,
    13% 99.4%,
    8% 100%,
    3% 99.6%,
    0% 100%,
    /* left edge */
    0.5% 96%,
    0% 91%,
    0.6% 86%,
    0% 80%,
    0.4% 74%,
    0% 68%,
    0.5% 62%,
    0% 56%,
    0.6% 50%,
    0% 44%,
    0.4% 38%,
    0% 32%,
    0.6% 26%,
    0% 20%,
    0.5% 14%,
    0% 8%,
    0.4% 3%
  );
}

/* Washi tape strip — the adhesive holding things in place */
.washi-tape {
  position: absolute;
  width: 5.5rem;
  height: 1.5rem;
  background: linear-gradient(
    90deg,
    rgba(197, 209, 200, 0.55) 0%,
    rgba(197, 209, 200, 0.45) 50%,
    rgba(197, 209, 200, 0.5) 100%
  );
  border-radius: 1px;
  opacity: 0.85;
  z-index: 5;
  /* translucent tape texture */
  box-shadow:
    0 1px 3px rgba(61, 53, 48, 0.08),
    inset 0 0 0 0.5px rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(0.5px);
}

.washi-tape::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.1;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='w'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23w)'/%3E%3C/svg%3E");
  mix-blend-mode: multiply;
}

/* ═══════════════════════════════════════════════════════
   WASHI TAPE — Rose / warm variant
   ═══════════════════════════════════════════════════════ */

.washi-tape-rose {
  position: absolute;
  width: 5.5rem;
  height: 1.5rem;
  background: linear-gradient(
    90deg,
    rgba(232, 213, 208, 0.6) 0%,
    rgba(212, 168, 154, 0.45) 50%,
    rgba(232, 213, 208, 0.55) 100%
  );
  border-radius: 1px;
  opacity: 0.8;
  z-index: 5;
  box-shadow:
    0 1px 3px rgba(61, 53, 48, 0.08),
    inset 0 0 0 0.5px rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(0.5px);
}

.washi-tape-rose::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.1;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='w'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23w)'/%3E%3C/svg%3E");
  mix-blend-mode: multiply;
}

/* ═══════════════════════════════════════════════════════
   DOG-EAR FOLD — Corner fold on paper card
   ═══════════════════════════════════════════════════════ */

.paper-fold-corner {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 28px;
  height: 28px;
  z-index: 3;
  pointer-events: none;
  overflow: hidden;
}

.paper-fold-corner::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 40px;
  background: linear-gradient(
    135deg,
    transparent 48%,
    rgba(61, 53, 48, 0.07) 49%,
    #e8d9be 50%,
    #dfcfa8 100%
  );
  transform: rotate(0deg);
  box-shadow: 2px -2px 4px rgba(61, 53, 48, 0.08);
}

/* ═══════════════════════════════════════════════════════
   HERO SECTION — Distinct atmospheric background
   ═══════════════════════════════════════════════════════ */

.hero-invitation-bg {
  background:
    /* Edge-only side blushes */
    radial-gradient(ellipse 25% 100% at 0% 40%, rgba(197, 209, 200, 0.10) 0%, transparent 65%),
    radial-gradient(ellipse 25% 100% at 100% 40%, rgba(212, 168, 154, 0.09) 0%, transparent 65%),
    /* Warm white at top → fully transparent at bottom.
       Body's own cream + paper texture shows through the fade zone,
       creating a seamless blend with no hard edge. */
    linear-gradient(
      to bottom,
      #fffefb 0%,
      #fffefb 45%,
      rgba(255, 254, 251, 0.82) 62%,
      rgba(255, 254, 251, 0.38) 78%,
      rgba(255, 254, 251, 0) 100%
    );
}

/* Hero grain — masked so it fades to nothing at the bottom,
   matching the body texture that shows through there. */
.hero-invitation-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.10;
  mix-blend-mode: multiply;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  -webkit-mask-image: linear-gradient(to bottom, black 0%, black 40%, transparent 90%);
  mask-image: linear-gradient(to bottom, black 0%, black 40%, transparent 90%);
}

/* ═══════════════════════════════════════════════════════
   FLOATING DECORATIVE ANIMATIONS
   ═══════════════════════════════════════════════════════ */

@keyframes float-gentle {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  33% { transform: translateY(-8px) rotate(1.5deg); }
  66% { transform: translateY(4px) rotate(-1deg); }
}

@keyframes float-slow {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-12px) rotate(2deg); }
}

@keyframes float-drift {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(5px, -6px) rotate(1.5deg); }
  50% { transform: translate(-3px, -10px) rotate(-1deg); }
  75% { transform: translate(4px, -4px) rotate(0.5deg); }
}

@keyframes float-sway {
  0%, 100% { transform: translate(0, 0) rotate(-3deg); }
  50% { transform: translate(-6px, -8px) rotate(3deg); }
}

.animate-float-gentle {
  animation: float-gentle 8s ease-in-out infinite;
}

.animate-float-slow {
  animation: float-slow 10s ease-in-out infinite;
}

.animate-float-drift {
  animation: float-drift 12s ease-in-out infinite;
}

.animate-float-sway {
  animation: float-sway 9s ease-in-out infinite;
}

/* ═══════════════════════════════════════════════════════
   SELECTION — Brand-tinted text selection
   ═══════════════════════════════════════════════════════ */

::selection {
  background-color: var(--blush);
  color: var(--espresso);
}

/* ═══════════════════════════════════════════════════════
   SMOOTH SCROLL — Respects user preferences
   ═══════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}
